CREATE TABLE IF NOT EXISTS users(
	Id INTEGER PRIMARY KEY AUTOINCREMENT,
	Name TEXT NOT NULL,
	Password VARCHAR(255) NOT NULL,
	Email VARCHAR(255) UNIQUE NOT NULL
);
CREATE TABLE IF NOT EXISTS lists(
	Id INTEGER PRIMARY KEY AUTOINCREMENT,
	Name VARCHAR(255) NOT NULL,
	CreatedAt DATETIME DEFAULT CURRENT_TIMESTAMP
);
CREATE TABLE IF NOT EXISTS tasks(
	Id INTEGER PRIMARY KEY AUTOINCREMENT,
	Name TEXT NOT NULL,
	CreatedAt DATETIME DEFAULT CURRENT_TIMESTAMP,
	IsCompleted INTEGER NOT NULl DEFAULT 0,
	UserId INTEGER NOT NULL,
	ListId INTEGER NOT NULL,
    FOREIGN KEY(UserId) REFERENCES users(Id),
    FOREIGN KEY(ListId) REFERENCES lists(Id)
);
CREATE TABLE IF NOT EXISTS users_lists(
	UserId INTEGER NOT NULL,
	ListId INTEGER NOT NULL,
	FOREIGN KEY(UserId) REFERENCES users(Id),
	FOREIGN KEY(ListId) REFERENCES lists(Id)
);
